<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Database SQL Project | Himansh</title>
    <meta name="description" content="Normalized hospital database with advanced SQL queries demonstrating database design, complex analytics, and healthcare data management">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Dark Theme Colors */
            --primary-color: #60A5FA;
            --primary-dark: #3B82F6;
            --secondary-color: #A78BFA;
            --accent-color: #FBBF24;
            --success-color: #34D399;
            
            /* Background Colors */
            --bg-dark: #0F172A;
            --bg-darker: #020617;
            --bg-card: #1E293B;
            --bg-card-hover: #334155;
            
            /* Text Colors */
            --text-primary: #F1F5F9;
            --text-secondary: #CBD5E1;
            --text-muted: #94A3B8;
            
            /* Code Colors */
            --code-bg: #1A202C;
            --code-keyword: #F472B6;
            --code-function: #60A5FA;
            --code-string: #34D399;
            --code-comment: #64748B;
            
            /* Borders */
            --border-color: #334155;
            --border-light: #475569;
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);
            --gradient-accent: linear-gradient(135deg, #F59E0B 0%, #EF4444 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-dark);
        }

        html {
            scroll-behavior: smooth;
        }

        /* Header */
        header {
            background: var(--gradient-primary);
            color: white;
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(139, 92, 246, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(59, 130, 246, 0.3) 0%, transparent 50%);
            pointer-events: none;
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            font-weight: 800;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 20px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Navigation */
        nav {
            background: var(--bg-darker);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
            font-size: 0.95rem;
        }

        nav a:hover {
            color: var(--primary-color);
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.2);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Section */
        section {
            margin: 4rem 0;
        }

        section h2 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 800;
            position: relative;
            display: inline-block;
        }

        section h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }

        section h3 {
            font-size: 1.6rem;
            margin: 2.5rem 0 1.5rem 0;
            color: var(--primary-color);
            font-weight: 700;
        }

        section p {
            color: var(--text-secondary);
            line-height: 1.8;
            margin: 1rem 0;
        }

        /* ER Diagram */
        .er-diagram {
            background: var(--bg-card);
            padding: 2.5rem;
            border-radius: 12px;
            margin: 2rem 0;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .er-diagram img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        /* Table Grid */
        .table-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .table-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .table-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
            border-color: var(--primary-color);
        }

        .table-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .table-card .record-count {
            color: var(--accent-color);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            display: block;
        }

        .table-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Query Section */
        .query-section {
            background: var(--bg-card);
            padding: 2.5rem;
            border-radius: 12px;
            margin: 3rem 0;
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--primary-color);
        }

        .query-header h3 {
            margin: 0 0 1.5rem 0;
            font-size: 1.8rem;
        }

        .business-question {
            background: var(--bg-darker);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 3px solid var(--accent-color);
        }

        .business-question strong {
            color: var(--accent-color);
            font-size: 1.05rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        .business-question p {
            margin: 0;
            color: var(--text-secondary);
        }

        /* Code Block - FIXED FORMATTING */
        .code-block {
            background: var(--code-bg);
            color: var(--text-secondary);
            padding: 2rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 2rem 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            border: 1px solid var(--border-color);
            white-space: pre;
            tab-size: 4;
        }

        .code-block::-webkit-scrollbar {
            height: 8px;
        }

        .code-block::-webkit-scrollbar-track {
            background: var(--bg-dark);
            border-radius: 4px;
        }

        .code-block::-webkit-scrollbar-thumb {
            background: var(--border-light);
            border-radius: 4px;
        }

        .code-block::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }

        /* Skills Tags */
        .skills-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin: 1.5rem 0;
        }

        .skill-tag {
            background: var(--gradient-primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }

        /* Insight Box */
        .insight-box {
            background: rgba(251, 191, 36, 0.1);
            border-left: 4px solid var(--accent-color);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 8px;
        }

        .insight-box strong {
            color: var(--accent-color);
            font-size: 1.05rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        .insight-box p {
            margin: 0;
            color: var(--text-secondary);
        }

        /* Screenshot */
        .screenshot {
            margin: 2rem 0;
            text-align: center;
        }

        .screenshot img {
            max-width: 100%;
            height: auto;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }

        .screenshot p {
            margin-top: 1rem;
            color: var(--text-muted);
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Tech Grid */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .tech-item {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            text-align: center;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .tech-item:hover {
            border-color: var(--success-color);
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(52, 211, 153, 0.15);
        }

        .checkmark {
            color: var(--success-color);
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .tech-item strong {
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        /* Buttons */
        .btn-group {
            display: flex;
            gap: 1rem;
            margin: 2.5rem 0;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-block;
            padding: 0.9rem 2.5rem;
            background: var(--gradient-primary);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 700;
            transition: all 0.3s ease;
            border: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .btn-secondary {
            background: var(--bg-card);
            border: 2px solid var(--border-light);
        }

        .btn-secondary:hover {
            border-color: var(--primary-color);
            background: var(--bg-card-hover);
        }

        /* Lists */
        ul {
            list-style: none;
            padding-left: 0;
        }

        ul li {
            padding: 0.5rem 0 0.5rem 2rem;
            position: relative;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        ul li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: var(--accent-color);
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--bg-card);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        thead {
            background: var(--gradient-primary);
        }

        th {
            padding: 1rem;
            text-align: left;
            color: white;
            font-weight: 700;
        }

        td {
            padding: 1rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        tr:hover {
            background: var(--bg-card-hover);
        }

        /* Footer */
        footer {
            background: var(--bg-darker);
            color: var(--text-secondary);
            padding: 3rem 2rem;
            margin-top: 5rem;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            display: block;
            margin: 0.5rem 0;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--accent-color);
        }

        .footer-section p {
            margin: 0.3rem 0;
            color: var(--text-muted);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            header p {
                font-size: 1rem;
            }

            nav ul {
                gap: 1rem;
            }

            section h2 {
                font-size: 1.8rem;
            }

            section h3 {
                font-size: 1.4rem;
            }

            .stats-bar {
                grid-template-columns: 1fr;
            }

            .code-block {
                font-size: 0.8rem;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üè• Hospital Database Management System</h1>
        <p>Normalized relational database with advanced SQL analytics demonstrating database design, complex queries, and healthcare data management</p>
    </header>

    <nav>
        <ul>
            <li><a href="#overview">Overview</a></li>
            <li><a href="#schema">Database Schema</a></li>
            <li><a href="#queries">SQL Queries</a></li>
            <li><a href="#technical">Technical Details</a></li>
            <li><a href="https://github.com/himansh-11/hospital-database-sql" target="_blank">GitHub Repo</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-card">
                <span class="stat-number">10</span>
                <span class="stat-label">Normalized Tables</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">237</span>
                <span class="stat-label">Data Records</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">9</span>
                <span class="stat-label">Relationships</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">4</span>
                <span class="stat-label">Complex Queries</span>
            </div>
        </div>

        <!-- Overview Section -->
        <section id="overview">
            <h2>üìä Project Overview</h2>
            <p>This project showcases database design and SQL query optimization for healthcare data management. Built with SQLite, it includes patient management, appointment scheduling, billing systems, and treatment tracking with proper normalization and referential integrity.</p>

            <div class="btn-group">
                <a href="https://github.com/himansh-11/hospital-database-sql" class="btn" target="_blank">View on GitHub</a>
                <a href="https://github.com/himansh-11/hospital-database-sql/tree/main/data" class="btn btn-secondary" target="_blank">Download Data</a>
                <a href="https://github.com/himansh-11/hospital-database-sql/tree/main/sql_queries" class="btn btn-secondary" target="_blank">View Queries</a>
            </div>
        </section>

        <!-- Database Schema Section -->
        <section id="schema">
            <h2>üóÑÔ∏è Database Schema</h2>
            
            <h3>Entity-Relationship Diagram</h3>
            <div class="er-diagram">
                <img src="er_diagram.png" alt="Hospital Database ER Diagram">
            </div>

            <h3>Database Structure</h3>
            <table>
                <thead>
                    <tr>
                        <th>Table</th>
                        <th>Records</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>departments</strong></td>
                        <td>7</td>
                        <td>Hospital organizational structure (Cardiology, Emergency, Pediatrics, etc.)</td>
                    </tr>
                    <tr>
                        <td><strong>doctors</strong></td>
                        <td>15</td>
                        <td>Physician information, including specialty and contact details</td>
                    </tr>
                    <tr>
                        <td><strong>docinfo</strong></td>
                        <td>15</td>
                        <td>Extended doctor credentials, licenses, and education history</td>
                    </tr>
                    <tr>
                        <td><strong>salary</strong></td>
                        <td>38</td>
                        <td>Compensation records with historical tracking</td>
                    </tr>
                    <tr>
                        <td><strong>patients</strong></td>
                        <td>45</td>
                        <td>Patient demographics, insurance, and health status</td>
                    </tr>
                    <tr>
                        <td><strong>appointments</strong></td>
                        <td>43</td>
                        <td>Scheduling with status tracking (Completed, Cancelled, No-Show)</td>
                    </tr>
                    <tr>
                        <td><strong>treatments</strong></td>
                        <td>15</td>
                        <td>Medical procedures (ECG, MRI, Surgery, etc.)</td>
                    </tr>
                    <tr>
                        <td><strong>prescriptions</strong></td>
                        <td>10</td>
                        <td>Medication records with dosage and frequency</td>
                    </tr>
                    <tr>
                        <td><strong>billing</strong></td>
                        <td>39</td>
                        <td>Financial transactions (Paid: 75%, Pending: 15%, Overdue: 10%)</td>
                    </tr>
                    <tr>
                        <td><strong>rooms</strong></td>
                        <td>10</td>
                        <td>Facility management and bed assignments</td>
                    </tr>
                </tbody>
            </table>

            <div class="screenshot">
                <img src="database_schema.png" alt="Database Schema Structure">
                <p>Complete database structure showing all tables and columns</p>
            </div>
        </section>

        <!-- SQL Queries Section -->
        <section id="queries">
            <h2>üí° SQL Queries & Analysis</h2>

            <!-- Query 1 -->
            <div class="query-section">
                <div class="query-header">
                    <h3>Query 1: Doctor Workload Analysis</h3>
                </div>

                <div class="business-question">
                    <strong>Business Question:</strong>
                    <p>Which doctors have the highest patient loads and revenue generation for capacity planning?</p>
                </div>

                <div class="code-block">SELECT 
    d.DoctorID,
    d.FirstName || ' ' || d.LastName AS DoctorName,
    d.Specialty,
    dept.DepartmentName,
    COUNT(DISTINCT p.PatientID) AS TotalPatients,
    COUNT(DISTINCT a.AppointmentID) AS TotalAppointments,
    ROUND(AVG(b.TotalAmount), 2) AS AvgBilling,
    SUM(b.TotalAmount) AS TotalRevenue
FROM doctors d
LEFT JOIN departments dept ON d.DepartmentID = dept.DepartmentID
LEFT JOIN patients p ON d.DoctorID = p.DoctorID
LEFT JOIN appointments a ON d.DoctorID = a.DoctorID
LEFT JOIN billing b ON a.AppointmentID = b.AppointmentID
GROUP BY d.DoctorID, d.FirstName, d.LastName, d.Specialty, dept.DepartmentName
ORDER BY TotalRevenue DESC;</div>

                <div class="skills-tags">
                    <span class="skill-tag">Multi-table JOINs</span>
                    <span class="skill-tag">Aggregate Functions</span>
                    <span class="skill-tag">GROUP BY</span>
                    <span class="skill-tag">NULL Handling</span>
                </div>

                <div class="insight-box">
                    <strong>Key Insight:</strong>
                    <p>Dr. Williams (Orthopedics) generates the highest revenue ($41,200) with surgical procedures, while Dr. Johnson (Pediatrics) maintains the highest patient volume with lower per-visit costs, revealing different specialization models.</p>
                </div>

                <div class="screenshot">
                    <img src="query1_results.png" alt="Query 1 Results">
                </div>
            </div>

            <!-- Query 2 -->
            <div class="query-section">
                <div class="query-header">
                    <h3>Query 2: Patient Status Distribution</h3>
                </div>

                <div class="business-question">
                    <strong>Business Question:</strong>
                    <p>What's the distribution of patient health statuses and their appointment completion rates?</p>
                </div>

                <div class="code-block">SELECT 
    p.PatientStatus,
    COUNT(DISTINCT p.PatientID) AS NumPatients,
    ROUND(COUNT(DISTINCT p.PatientID) * 100.0 / 
          SUM(COUNT(DISTINCT p.PatientID)) OVER (), 2) AS PercentageOfTotal,
    COUNT(DISTINCT a.AppointmentID) AS TotalAppointments,
    SUM(CASE WHEN a.AppointmentStatus = 'Completed' THEN 1 ELSE 0 END) AS CompletedAppointments
FROM patients p
LEFT JOIN appointments a ON p.PatientID = a.PatientID
GROUP BY p.PatientStatus
ORDER BY NumPatients DESC;</div>

                <div class="skills-tags">
                    <span class="skill-tag">Window Functions</span>
                    <span class="skill-tag">CASE Statements</span>
                    <span class="skill-tag">Conditional Aggregation</span>
                    <span class="skill-tag">Percentage Calculations</span>
                </div>

                <div class="insight-box">
                    <strong>Key Insight:</strong>
                    <p>Critical patients show 100% appointment completion, while Stable patients and Recovering Patients have 94.12% and 93.75% completion rates, respectively, suggesting higher engagement when health stakes are perceived as higher.</p>
                </div>

                <div class="screenshot">
                    <img src="query2_results.png" alt="Query 2 Results">
                </div>
            </div>

            <!-- Query 3 -->
            <div class="query-section">
                <div class="query-header">
                    <h3>Query 3: Department Financial Performance</h3>
                </div>

                <div class="business-question">
                    <strong>Business Question:</strong>
                    <p>Which departments should receive investment based on revenue performance and collection efficiency?</p>
                </div>

                <div class="code-block">WITH DepartmentMetrics AS (
    SELECT 
        dept.DepartmentName,
        COUNT(DISTINCT d.DoctorID) AS NumDoctors,
        SUM(b.TotalAmount) AS TotalRevenue,
        ROUND(AVG(b.TotalAmount), 2) AS AvgRevenuePerAppointment,
        SUM(CASE WHEN b.PaymentStatus = 'Paid' 
                 THEN b.TotalAmount ELSE 0 END) AS CollectedRevenue
    FROM departments dept
    LEFT JOIN doctors d ON dept.DepartmentID = d.DepartmentID
    LEFT JOIN appointments a ON d.DoctorID = a.DoctorID
    LEFT JOIN billing b ON a.AppointmentID = b.AppointmentID
    GROUP BY dept.DepartmentName
)
SELECT 
    *,
    ROUND(CollectedRevenue * 100.0 / NULLIF(TotalRevenue, 0), 2) AS CollectionRate
FROM DepartmentMetrics
WHERE TotalRevenue > 0
ORDER BY TotalRevenue DESC;</div>

                <div class="skills-tags">
                    <span class="skill-tag">CTEs</span>
                    <span class="skill-tag">Complex Aggregations</span>
                    <span class="skill-tag">Financial Metrics</span>
                    <span class="skill-tag">HAVING Clause</span>
                </div>

                <div class="insight-box">
                    <strong>Key Insight:</strong>
                    <p>Orthopedics leads with $12,600 revenue and a 100% collection rate, while Oncology shows $20,600 revenue but only a 66.5% collection rate, indicating a need for improved billing processes.</p>
                </div>

                <div class="screenshot">
                    <img src="query3_results.png" alt="Query 3 Results">
                </div>
            </div>

            <!-- Query 4 -->
            <div class="query-section">
                <div class="query-header">
                    <h3>Query 4: High-Value Patient Analysis</h3>
                </div>

                <div class="business-question">
                    <strong>Business Question:</strong>
                    <p>Who are the highest-spending patients and what treatments drive their costs?</p>
                </div>

                <div class="code-block">SELECT 
    p.PatientID,
    p.FirstName || ' ' || p.LastName AS PatientName,
    p.PatientStatus,
    d.Specialty,
    COUNT(DISTINCT a.AppointmentID) AS TotalAppointments,
    COUNT(DISTINCT t.TreatmentID) AS TotalTreatments,
    SUM(b.TotalAmount) AS TotalSpending,
    ROUND(AVG(b.TotalAmount), 2) AS AvgSpendingPerVisit
FROM patients p
LEFT JOIN doctors d ON p.DoctorID = d.DoctorID
LEFT JOIN appointments a ON p.PatientID = a.PatientID
LEFT JOIN treatments t ON a.AppointmentID = t.AppointmentID
LEFT JOIN billing b ON a.AppointmentID = b.AppointmentID
GROUP BY p.PatientID, p.FirstName, p.LastName, p.PatientStatus, d.Specialty
HAVING SUM(b.TotalAmount) > 0
ORDER BY TotalSpending DESC
LIMIT 15;</div>

                <div class="skills-tags">
                    <span class="skill-tag">6-Table JOINs</span>
                    <span class="skill-tag">HAVING Clause</span>
                    <span class="skill-tag">TOP N Analysis</span>
                    <span class="skill-tag">Patient Analytics</span>
                </div>

                <div class="insight-box">
                    <strong>Key Insight:</strong>
                    <p> The Top patient in Oncology spent $19,400 over 4 appointments with chemotherapy, while an Orthopedic patient spent $12,050 on surgical procedures, revealing different care models and financial planning needs.</p>
                </div>

                <div class="screenshot">
                    <img src="query4_results.png" alt="Query 4 Results">
                </div>
            </div>
        </section>

        <!-- Technical Details Section -->
        <section id="technical">
            <h2>üõ†Ô∏è Technical Implementation</h2>

            <h3>SQL Techniques Demonstrated</h3>
            <div class="tech-grid">
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>Multi-table JOINs</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>Window Functions</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>CTEs</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>Aggregate Functions</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>CASE Statements</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>Date Functions</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>Subqueries</strong>
                </div>
                <div class="tech-item">
                    <span class="checkmark">‚úì</span>
                    <strong>GROUP BY & HAVING</strong>
                </div>
            </div>

            <h3>Database Design Principles</h3>
            <ul>
                <li><strong>Normalization:</strong> All tables follow 3rd Normal Form (3NF) to eliminate data redundancy</li>
                <li><strong>Referential Integrity:</strong> Foreign key constraints ensure data consistency across tables</li>
                <li><strong>Data Types:</strong> Optimized column types (VARCHAR, INT, DATE, DECIMAL) for efficiency</li>
                <li><strong>Indexing:</strong> Primary keys on all tables for query performance</li>
                <li><strong>Constraints:</strong> NOT NULL and UNIQUE constraints where appropriate</li>
            </ul>

            <h3>Technology Stack</h3>
            <ul>
                <li><strong>Database:</strong> SQLite 3.x (portable, no server required)</li>
                <li><strong>Tools:</strong> DB Browser for SQLite</li>
                <li><strong>Data Format:</strong> CSV files for easy portability</li>
                <li><strong>Version Control:</strong> Git & GitHub</li>
            </ul>
        </section>

        <!-- Business Applications -->
        <section>
            <h2>üíº Business Applications</h2>
            <p>This database supports critical healthcare operations including:</p>
            
            <div class="table-grid">
                <div class="table-card">
                    <h4>Patient Management</h4>
                    <p>Track demographics, medical history, and care continuity across multiple visits and providers</p>
                </div>
                <div class="table-card">
                    <h4>Appointment Scheduling</h4>
                    <p>Optimize doctor availability, reduce no-shows, and improve patient flow</p>
                </div>
                <div class="table-card">
                    <h4>Financial Operations</h4>
                    <p>Monitor revenue, track receivables, and analyze profitability by department</p>
                </div>
                <div class="table-card">
                    <h4>Resource Allocation</h4>
                    <p>Identify capacity constraints, workload imbalances, and hiring needs</p>
                </div>
                <div class="table-card">
                    <h4>Quality Metrics</h4>
                    <p>Analyze appointment completion rates and patient engagement patterns</p>
                </div>
                <div class="table-card">
                    <h4>Strategic Planning</h4>
                    <p>Guide department investment and expansion decisions based on data</p>
                </div>
            </div>
        </section>

        <!-- Related Projects -->
        <section>
            <h2>üîó Related Projects</h2>
            <div class="query-section">
                <h3 style="margin-top: 0;">Healthcare Analytics Portfolio</h3>
                <p>This SQL database project complements my healthcare analytics work:</p>
                <ul style="margin-top: 1rem;">
                    <li><strong><a href="https://himansh-11.github.io/healthcare-analytics-portfolio/" target="_blank" style="color: var(--primary-color);">Hospital Readmission Analytics Dashboard</a></strong> - Power BI analysis of 2,496 hospitals, identifying $207M savings opportunity</li>
                    <li><strong>CNN Emotion Recognition</strong> - Machine learning research on computational modeling of human perception (coming soon)</li>
                    <li><strong>Higher Education Analytics</strong> - Tableau dashboard on student retention (coming soon)</li>
                </ul>
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Himansh Rajak</h3>
                <p>Data Specialist | Healthcare Analytics</p>
                <p>SQL & Database Design</p>
            </div>

            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="https://github.com/himansh-11/hospital-database-sql" target="_blank">GitHub Repository</a>
                <a href="https://himansh-11.github.io/healthcare-analytics-portfolio/" target="_blank">Main Portfolio</a>
                <a href="#queries">SQL Queries</a>
                <a href="#schema">Database Schema</a>
            </div>

            <div class="footer-section">
                <h3>Contact</h3>
                <a href="mailto:himanshr1107@gmail.com">himanshr1107@gmail.com</a>
                <a href="https://www.linkedin.com/in/himansh-rajak/" target="_blank">LinkedIn</a>
                <a href="https://github.com/himansh-11" target="_blank">GitHub</a>
            </div>

            <div class="footer-section">
                <h3>Project Details</h3>
                <p><strong>Database:</strong> SQLite</p>
                <p><strong>Tables:</strong> 10 (3NF normalized)</p>
                <p><strong>Records:</strong> 237</p>
                <p><strong>Queries:</strong> 4 advanced</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Himansh Rajak. All data is synthetic and created for demonstration purposes.</p>
        </div>
    </footer>
</body>
</html>
